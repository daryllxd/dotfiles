# Handle the fact that this file will be used with multiple OSs
platform=`uname`
if [[ $platform == "Linux" ]]; then
  alias a="ls -lrth --color"
elif [[ $platform == "Darwin" ]]; then
  alias a="ls -lrthG"
fi

alias -g G="| grep"
alias -g L="| less"
alias -g M="| more"
alias a="ls"
alias agb="ag binding.pry"
alias b="bundle"
alias be="bundle exec"
alias bi="bundle install"
alias bu="bundle update"
alias c="cd"
alias cl="clear"
alias d="cd ~/.dotfiles"
alias dbprep="rdm && rdtp"
alias e="bundle install && bundle exec guard && tput bel"
alias ec="COVERAGE=true bundle exec rspec && open coverage/index.html"
alias faye='bundle exec rackup private_pub.ru -s thin -E production'
alias fs="foreman start"
alias ga="git add"
alias gaa="git add --all"
alias gb="git branch"
alias gca="git commit --amend -m"
alias gch="git checkout"
alias gchm="git checkout master"
alias gcl="git clone"
alias gd="git diff"
alias gdc="git diff --cached"
alias gdm="git diff master"
alias get="sudo apt-get install"
alias gl="git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit -5"
alias gla="git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit"
alias gm="git merge"
alias gpr="git pull --rebase"
alias grc="git rebase --continue"
alias gre="git reset --hard HEAD && git clean -f"
alias gs="git status"
alias h="heroku"
alias hpr="hub pull-request"
alias j="bundle install && jekyll serve --watch --trace"
alias mb="middleman b"
alias ms="bundle install && middleman s"
alias o="open ."
alias ob="cd ~/rails_projects/blog"
alias od="cd ~/rails_projects/discourse-master"
alias og="cd ~/rails_projects/gitlabhq"
alias ol="cd ~/rails_projects/learn"
alias oo="cd ~/rails_projects/lifelong-learning"
alias or="cd ~/rails_projects/"
alias q="vim -O2 ."
alias rc="rails console"
alias rdm="bundle exec rake db:migrate"
alias rdmm="rake db:migrate && rake db:schema:dump && rake db:test:prepare && rake db:seed && tput bel"
alias rdr="rake db:rollback"
alias rdrm="rake db:migrate:redo"
alias red="rake erd && open erd.pdf"
alias redis='redis-server'
alias re="bundle exec rake db:reset && tput bel && bundle exec rake db:test:prepare && tput bel"
alias rel=". ~/.zshrc && echo 'ZSH config reloaded from ~/.zshrc'"
alias retag="ctags -R --exclude=.svn --exclude=.git --exclude=log --exclude=tmp *"
alias rg="rails generate"
alias rk="killall -9 ruby"
alias rn="rails-composer"
alias rr="rake routes"
alias rs="rails-start"
alias rt="bundle exec rake db:test:prepare"
alias safepush="git pull --rebase && bundle install && rdm && rake && git push"
alias sp="safepush"
alias squash="git rebase -i master"
alias ss="spring stop"
alias staging="git push heroku-staging master"
alias startredis="redis-server /usr/local/etc/redis.conf &"
alias ta="tmux a -t"
alias ts="tmux new -s"
alias v="vim ."

# Work Related
alias agww="ag --ignore spec/vcr"
alias cconsole="bundle exec irb -r ./importer.rb"
alias kill-resque="kill $(ps -ef | grep resque | awk '{print $2}')"
alias resque-web="bundle exec resque-web ./importer.rb"
alias wwc="nohup bundle exec rake workers:start COUNT=5 QUEUE=basecamp,facebook,gcal,gmail,gdrive,github,ptracker,trello,yammer > log/workers.log 2>&1 &"
