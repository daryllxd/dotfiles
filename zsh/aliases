# Handle the fact that this file will be used with multiple OSs
platform=`uname`
if [[ $platform == "Linux" ]]; then
  alias a="ls -lrth --color"
elif [[ $platform == "Darwin" ]]; then
  alias a="ls -lrthG"
fi

alias -g G="| ag"
alias -g L="| less"
alias -g M="| more"
alias agb="ag binding.pry"
alias agc="ag console.log"
alias b="bundle"
alias be="bundle exec"
alias bi="bundle install"
alias bowerr="bundle exec rake bower:install"
alias bu="bundle update"
alias cl="clear"
alias cov="open coverage/index.html"
alias d="cd ~/Documents/rails-projects/dotfiles"
alias e="exit"
alias ec="COVERAGE=true bundle exec rspec && open coverage/index.html"
alias ga="git add -A"
alias gam="magic_frozen_string_literal && git add -A"
alias gaa="git add --all"
alias gada="git restage" # https://stacktoheap.com/blog/2016/01/02/git-add-only-files-already-staged/
alias gb="git branch"
alias gcf="git commit --fixup"
alias gch="git checkout"
alias gcp="git cherry-pick"
alias gchm="git checkout master && git pull"
alias gcl="git clone"
alias gd="git diff"
alias gdc="git diff --cached"
alias gdh="git diff HEAD~1"
alias gdm="git diff master"
alias gems="cd ~/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems"
alias gl="git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit -5"
alias gla="git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit"
alias gm="git merge"
alias gpf="~/Documents/rails_projects/push.sh"
alias gpr="git pull --rebase"
alias gpom="git push origin master"
alias gpop="git push origin production"
alias gpos="git push origin staging"
alias gposn="git push origin staging --no-verify"
alias gpros="git pull --rebase origin staging"
alias gprop="git pull --rebase origin production"
alias gr="git reset"
alias grc="git rebase --continue"
alias gre="git reset --hard HEAD && git clean -f"
alias grus="grunt serve --gruntfile 'Gruntfile.dev.js'"
alias gs="git status"
alias gst="git stash"
alias gstp="git stash pop"
alias gu="gulp clean && gulp serve"
alias lc="history | ag gc | read first rest; echo $rest | pbcopy"
alias m="say 'meditation starting'; sleep 600; say 'meditation done, thank you, write down your next tasks for the day'"
alias md="~/Documents/rails_projects/merge-develop.sh"
alias o="open ."
alias ob="cd ~/Documents/rails_projects/daryllxd.github.io && tabs blog"
alias od="cd ~/Documents/rails-projects/daryllxd && tabs daryllxd"
alias oh="cd ~/Documents/rails-projects/thoughts && tabs thoughts"
alias ot="cd ~/Documents/rails_projects/til && tabs til"
alias ol="cd ~/rails_projects/learn"
alias oo="cd ~/Documents/rails_projects/lifelong-learning && tabs life"
alias or="cd ~/rails_projects/"
alias phs="iex -S mix phx.server"
alias phr="mix phx.routes"
alias q="vim -O2 ."
alias rc="rails console"
alias rcs="bundle exec cap staging rails:console"
alias rdm="bundle exec rake db:migrate && bundle exec rake db:test:prepare"
alias rdmm="bundle exec rake db:migrate && bundle exec rake db:schema:dump && bundle exec rake db:test:prepare && bundle exec rake db:seed && tput bel"
alias rdr="bundle exec rake db:rollback"
alias redis='redis-server'
alias re="bundle exec rake db:reset && tput bel"
alias rel=". ~/.zshrc"
alias rg="rails generate"
alias rk="killall -9 ruby"
alias rr="bundle exec rake routes"
alias rs="rails-start"
alias sht="sh ./tmux.sh"
alias snip='vim ~/.vim/bundle/vim-snippets/snippets'
alias squash="git rebase -i master"
alias swag="bundle exec rake swagger:docs"
alias swagt="RAILS_ENV=test bundle exec rake swagger:docs"
alias ss="spring stop"
alias src="bundle exec cap staging rails:console"
alias srs="bundle exec spring rspec spec"
alias startmysql="mysql.server start"
alias startredis="redis-server /usr/local/etc/redis.conf &"
alias startpostgres='pg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log start'
alias startredis="redis-server /usr/local/etc/redis.conf &"
alias stoppostgres='pg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log stop'
alias study='open -a Spotify; spotify play uri spotify:user:12138319146:playlist:1QgeLNN0GpwUfb3FjYyTai; itermFront'
alias v="vim ."
alias vk="killall -9 vim"
alias whenever="whenever --update-crontab store"
alias onwifi='networksetup -setairportpower en0 on'
alias offwifi='networksetup -setairportpower en0 off'
alias ys="yarn start"
alias ytdl="youtube-dl"

# Work Related
alias sdeploy="say 'starting deploy' && nohup sh -c \"(bundle exec cap staging deploy && say 'done deploy') &\""
alias deployrc="bundle exec cap staging rails:console"
alias ngt="ng test rd-lib"
# alias ngt="npm run debug-test"

alias vn="/usr/local/Cellar/vim/8.0.0386/bin/vim ."

# work
alias ee="cd ~/Documents/rails_projects/e2e-rewards-dashboard && tabs ee"
alias frs="foreman run rails s -b 0.0.0.0"
alias frc="foreman run rails c"
alias gpurd="git pull --rebase origin develop"
alias hound="gc '[QA] Address Hound comments'"
alias prc="gc '[QA] Address PR comments'"
alias ppu="git fetch origin $(git rev-parse --abbrev-ref HEAD) && git pull && npm run phraseapp-pull && git add . && git commit"

# load snippets
alias vj="vim ~/.vim/bundle/vim-snippets/UltiSnips/javascript.snippets"
alias rmf="rm -rf hello.ts"
